<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="openEuler 2 常见文本编辑器 文件摘选 用户管理 用户组管理 文件权限"><meta name="keywords" content="Linux"><meta name="author" content="YN"><meta name="copyright" content="YN"><title>openEuler 2 常见文本编辑器 文件摘选 用户管理 用户组管理 文件权限 | uwupu Blog</title><link rel="shortcut icon" href="/melody-favicon.ico"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="manifest" href="/manifest.json"><link rel="manifest" href="/manifest.json"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  hexoVersion: '6.2.0'
} </script><meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="uwupu Blog" type="application/atom+xml">
<script>function loadCss(l){var d=document,h=d.head,s=d.createElement('link');s.rel='stylesheet';s.href=l;!function e(f){if (d.body)return f();setTimeout(function(){e(f)})}(function(){h.appendChild(s);});}loadCss('/style.css');loadCss('https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.1');</script><noscript><link rel="stylesheet" href="/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.1"></noscript></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux%E5%B8%B8%E8%A7%81%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-number">1.</span> <span class="toc-text">Linux常见文本编辑器</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vim"><span class="toc-number">2.</span> <span class="toc-text">vim</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6cat"><span class="toc-number">3.</span> <span class="toc-text">查看文件cat</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#more"><span class="toc-number">4.</span> <span class="toc-text">more</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#less"><span class="toc-number">5.</span> <span class="toc-text">less</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%91%98%E9%80%89head"><span class="toc-number">6.</span> <span class="toc-text">文件摘选head</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#tail"><span class="toc-number">7.</span> <span class="toc-text">tail</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cut"><span class="toc-number">8.</span> <span class="toc-text">cut</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%94%A8%E6%88%B7"><span class="toc-number">9.</span> <span class="toc-text">用户</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7UID"><span class="toc-number">9.1.</span> <span class="toc-text">用户UID</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">9.2.</span> <span class="toc-text">用户管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7-useradd"><span class="toc-number">9.2.1.</span> <span class="toc-text">创建用户 useradd</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7-usermod"><span class="toc-number">9.2.2.</span> <span class="toc-text">修改用户 usermod</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7-userdel"><span class="toc-number">9.2.3.</span> <span class="toc-text">删除用户 userdel</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81-passwd"><span class="toc-number">9.2.4.</span> <span class="toc-text">修改密码 passwd</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-number">9.3.</span> <span class="toc-text">其他</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%BB%84"><span class="toc-number">10.</span> <span class="toc-text">用户组</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%BB%84GID"><span class="toc-number">10.1.</span> <span class="toc-text">用户组GID</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%BB%84%E5%88%86%E7%B1%BB"><span class="toc-number">10.2.</span> <span class="toc-text">用户组分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">10.3.</span> <span class="toc-text">管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%BB%84-groupadd"><span class="toc-number">10.3.1.</span> <span class="toc-text">创建组 groupadd</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E7%BB%84-groupmod"><span class="toc-number">10.3.2.</span> <span class="toc-text">修改用户组 groupmod</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7%E7%BB%84-groupdel"><span class="toc-number">10.3.3.</span> <span class="toc-text">删除用户组 groupdel</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E8%81%94%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84-gpasswd"><span class="toc-number">10.3.4.</span> <span class="toc-text">关联用户和组 gpasswd</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E4%B8%8E%E7%BB%84%E7%9A%84%E5%85%B3%E8%81%94%E6%96%87%E4%BB%B6"><span class="toc-number">10.4.</span> <span class="toc-text">用户与组的关联文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%BB%84%E5%85%B3%E8%81%94%E6%96%87%E4%BB%B6"><span class="toc-number">10.5.</span> <span class="toc-text">用户组关联文件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90"><span class="toc-number">11.</span> <span class="toc-text">文件权限</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%83%E9%99%90"><span class="toc-number">11.1.</span> <span class="toc-text">权限</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">YN</div><div class="author-info__description text-center">一个包含有学习日记的博客</div><div class="follow-button"><a target="_blank" rel="noopener" href="https://uwupu.tk/">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">102</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">28</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">Links</div><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://uwupu.tk/">uwupuBlog</a></div></div></div><div id="content-outer"><div class="plain" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">uwupu Blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">诶嘿</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> 搜索</span></a></span></div></div><div class="layout" id="content-inner"><article id="post"><div class="plain" id="post-title">openEuler 2 常见文本编辑器 文件摘选 用户管理 用户组管理 文件权限</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-11-25</time><span class="post-meta__separator">|</span><span class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">4k</span><span class="post-meta__separator">|</span><span>阅读时长: 14 分钟</span></span></div><div class="article-container" id="post-content"><h1 id="Linux常见文本编辑器"><a href="#Linux常见文本编辑器" class="headerlink" title="Linux常见文本编辑器"></a>Linux常见文本编辑器</h1><ul>
<li>emacs</li>
<li>nano</li>
<li>gedit</li>
<li>kedit</li>
<li>vi</li>
<li>vim<ul>
<li>基本模式：普通、插入、可视、选择、命令行、Ex</li>
<li>派生模式：操作符等待模式、插入普通、插入可视、插入选择、替换模式；</li>
<li>其他：Evim</li>
</ul>
</li>
</ul>
<h1 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h1><ul>
<li><p>移动光标：</p>
<ul>
<li><strong>上下左右</strong> 或 <strong>jkhl</strong> 向上下左右移动光标；</li>
<li>0 移动到行首；</li>
<li>g0 移动到光标所在行行首；</li>
<li><strong>home/end</strong>：跳转到 行首/行尾。</li>
<li>:n 移动到第n行；</li>
<li>gg：回到文件头部；</li>
<li>G：到文件底部；</li>
</ul>
</li>
<li><p>数据操作：</p>
<ul>
<li>复制<ul>
<li>yy 或 Y：复制整行文本；</li>
<li>[n]yy：复制n行文本</li>
<li>y[n]w：复制一{n}个单词；</li>
</ul>
</li>
<li>粘贴（分为：一行数据、一个字段）<ul>
<li>p：粘贴在当前行下面/粘贴在光标后面；</li>
<li>P：粘贴在当前行上面/粘贴在光标前；</li>
</ul>
</li>
<li>删除<ul>
<li>d[n]w：删除（剪切）1{n}个单词；</li>
<li>[n]dd：删除（剪切）1{n}行。</li>
</ul>
</li>
<li>查找<ul>
<li>:/word 在光标之后查找字符串word，按n向后继续搜索，shift+n向上搜索；</li>
<li>:?word 在光标之前查找字符串word，按n向后继续搜索；</li>
</ul>
</li>
<li>替换<ul>
<li>:1,5s/word1/word2/g，将文档中1-5行word1替换为word2，不加g表示只替换每行第一个word1</li>
<li>%s/word1/word2/gi，将文档所有word1替换为word2，不区分大小写；</li>
<li>**/<strong>表示替换光标后的第一个word，</strong>?**表示替换光标前第一个word。</li>
<li>1,5 表示1-5行；</li>
<li>%表示所有行；</li>
<li>i表示不区分大小写。</li>
</ul>
</li>
<li>撤销和重做<ul>
<li>u 撤销最近的改变；</li>
<li>U 撤销当前行自从光标定位在上面开始的所有改变；</li>
<li>ctrl-r 重做最后一次撤销。</li>
</ul>
</li>
</ul>
</li>
<li><p>一些命令</p>
<ul>
<li><strong>set nu</strong>：显示行编号；</li>
<li><strong>set nonu</strong>：隐藏行编号。</li>
<li><strong>set hlsearch</strong>： 高亮所有搜索结果</li>
</ul>
</li>
<li><p>保存文件并退出</p>
<ul>
<li>在插入模式下按esc退出插入模式</li>
<li>:w 保存</li>
<li>:q 退出</li>
<li>:wq 保存并退出</li>
<li>:q! 强制退出</li>
<li>:wq! 强制保存并退出</li>
</ul>
</li>
</ul>
<h1 id="查看文件cat"><a href="#查看文件cat" class="headerlink" title="查看文件cat"></a>查看文件cat</h1><ul>
<li>cat是一个文本文件查看和链接工具；<ul>
<li>cat filename，查看文件内容；</li>
<li>cat &gt; filename，编辑一个文件；</li>
<li>cat file1 file2 &gt; file3，将几个文件合并为一个文件；</li>
<li>一个 <code>&gt;</code> 表示<strong>覆盖</strong>，两个 <code>&gt;&gt;</code> 表示<strong>追加</strong>。</li>
</ul>
</li>
<li>常用选项；<ul>
<li>-n：从1开始对所有行编号并显示在每行开头；</li>
<li>-b：对非空行编号；</li>
<li>-s：当有多个空行，则只输出一个空行；</li>
<li>-E：在每行结尾增加**$**；</li>
<li>–help：显示帮助信息；</li>
</ul>
</li>
</ul>
<h1 id="more"><a href="#more" class="headerlink" title="more"></a>more</h1><p>选项：</p>
<ul>
<li>+n，从第n行开始显示；</li>
<li>-n，定义屏幕大小为n行；</li>
<li>-c，从顶部清屏，然后显示；</li>
<li>-s，把连续的多个空行显示为一行。</li>
</ul>
<p>操作</p>
<ul>
<li>Enter：向下滚动一行；</li>
<li>Ctrl+F：下一页；</li>
<li>空格：下一页；</li>
<li>Ctrl+B：上一页；</li>
<li>b：上一页；</li>
<li>=：输出当前行号；</li>
<li>q：退出</li>
</ul>
<h1 id="less"><a href="#less" class="headerlink" title="less"></a>less</h1><p>格式：less [option] 文件；</p>
<ul>
<li>-f：强制打开特殊文件，如外围设备代号，目录和二进制文件；</li>
<li>-g：只高亮最后搜到的关键字；</li>
<li>-i：忽略索索大小写；</li>
<li>-N：显示每行行号；</li>
<li>-s：当有多个空行在一起时只输出一个空行；</li>
<li>-o &lt;文件名&gt;：将less输出的内容保存到指定文件；</li>
</ul>
<p>操作：</p>
<ul>
<li><code>/或?</code>：向上或向下搜索字符；</li>
<li>b：向上一页</li>
<li><strong>空格</strong> 或 <strong>f</strong>：向下一页</li>
<li>u：向上半页</li>
<li>d：向下半页；</li>
<li>y：向上一行；</li>
<li>Enter：向下一行；</li>
<li>h：帮助页面；</li>
<li>q：退出；</li>
</ul>
<h1 id="文件摘选head"><a href="#文件摘选head" class="headerlink" title="文件摘选head"></a>文件摘选head</h1><p>head用来显示文件开头到标准输出；</p>
<p>head默认显示前10行；</p>
<p>命令格式：head [option]… [file]…</p>
<p>选项：</p>
<ul>
<li>-q：输出时隐藏文件名，head默认不显示文件名；</li>
<li>-v：显示文件名；</li>
<li>-c num：显示前num个字节；</li>
<li>-n num：显示前num行。</li>
</ul>
<h1 id="tail"><a href="#tail" class="headerlink" title="tail"></a>tail</h1><p>显示文件末尾到标准输入，默认为文件后10行；</p>
<p>格式：tail [option]… [file]…</p>
<p>选项：</p>
<ul>
<li>-f：循环读取，对于日志文件的监控有用；</li>
<li>-q：不显示文件名，tail默认不显示文件名；</li>
<li>-v：显示文件名；</li>
<li>-c num：显示文件最后num个字节；</li>
<li>-n num：显示文件最后num行；</li>
<li>-s：与-f结合使用，表示每次反复的时间间隔休眠s秒；</li>
</ul>
<h1 id="cut"><a href="#cut" class="headerlink" title="cut"></a>cut</h1><p>提取<strong>列</strong>或字段；</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cut -d: -f1 /etc/passwd # 显示/etc/passwd文件以:间隔的第一列</span><br></pre></td></tr></tbody></table></figure>

<p>格式：cut [option]… [file]</p>
<p>选项：</p>
<ul>
<li>-b：仅显示行中指定直接范围的内容；</li>
<li>-c [范围]：仅显示行中指定范围的字符；</li>
<li>-d：指定字段的分隔符，默认分隔符为TAB；</li>
<li>-f [范围]：显示指定第num个字段的内容，可以用逗号隔开显示多个字段；</li>
<li>范围指定：<ul>
<li>N：每行第N个字节，字符或字段；</li>
<li>N-：每行第N个字节、字符或字段<strong>到每行的末尾</strong>；</li>
<li>-M：每行的第一个字节、字符或字段到每行的第M个；</li>
<li>N-M：每行的第N到第M个字节、字符或字段；</li>
</ul>
</li>
</ul>
<h1 id="用户"><a href="#用户" class="headerlink" title="用户"></a>用户</h1><ul>
<li>Linux是一个多用户的操作系统；</li>
<li>一个系统可以建立多个用户，多个用户可以在同一时间内登录到同一系统执行不同的任务；</li>
<li>每个用户都会分配一个uid。</li>
</ul>
<h2 id="用户UID"><a href="#用户UID" class="headerlink" title="用户UID"></a>用户UID</h2><ul>
<li>UID指的是用户的ID，一个用户UID标识一个给定用户，UID是用户的唯一标识符；</li>
<li>通过UID也可以区分不同用户的类别；<ul>
<li>超级用户：也称root，它的UID为0，超级用户拥有系统的完全控制权；</li>
<li>普通用户：也称一般用户，UID在1000-60000之间，普通用户可以对自己目录下文件进行访问，也可对经过授权的文件进行访问；</li>
<li>虚拟用户：也称系统用户，UID为1-999，虚拟用户最大的特点是不提供密码登录系统，存在的目的是方便系统的管理。</li>
</ul>
</li>
<li>通过id命令可以查看不同用户的uid；<ul>
<li>id [option] [user_name]；<ul>
<li>id命令会输出：<strong>用户的有效ID</strong>，<strong>用户所在组的ID</strong>和<strong>用户所在的用户组</strong></li>
<li>有效ID：系统用于区分用户对文件有效权限的UID</li>
<li>真实ID：系统在用户登录系统时对用户进行区分的UID；</li>
<li>通常情况下，有效ID与真实ID相同。</li>
</ul>
</li>
<li>参数：<ul>
<li>-u，-user，只输出有效的uid；</li>
<li>-g，只输出有效的gid</li>
<li>-n，-name，对于-ugG选项输出名字而不是数值，需要配合-ugG选项使用；</li>
<li>-r，-real，输出真实ID而不是有效id，需要配合-ugG选项使用；</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# id yyn</span><br><span class="line">用户id=1000(yyn) 组id=1000(yyn) 组=1000(yyn),10(wheel)</span><br></pre></td></tr></tbody></table></figure>



<h2 id="用户管理命令"><a href="#用户管理命令" class="headerlink" title="用户管理命令"></a>用户管理命令</h2><h3 id="创建用户-useradd"><a href="#创建用户-useradd" class="headerlink" title="创建用户 useradd"></a>创建用户 useradd</h3><p>创建用户账号，保存在/etc/passwd文件中；</p>
<p>语法：useradd [options] user_name</p>
<ul>
<li><p>这里的用户名对大小写敏感，可以出现数字、字母、下划线和减号（减号不能放在首位）。</p>
</li>
<li><p>-u，指定用户UID；</p>
</li>
<li><p>-o，允许UID重复，需要配合-u属性；</p>
</li>
<li><p>-g，指明用户所属基本组，这里可以为<strong>组名</strong>，也可为<strong>GID</strong>（组必须存在）；</p>
</li>
<li><p>-d，指定用户home目录，并自动创建用户home目录；</p>
</li>
<li><p>-M，不创建家目录；</p>
</li>
<li><p>-s，指明用户的默认shell程序；</p>
<ul>
<li>默认为/bin/bash。</li>
<li>另外也可以有/usr/sbin/nologin；</li>
</ul>
</li>
<li><p>-D，显示或更改默认配置。</p>
</li>
</ul>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat /etc/passwd | tail -n3</span><br><span class="line">chrony:x:983:980::/var/lib/chrony:/sbin/nologin</span><br><span class="line">tcpdump:x:72:72::/:/sbin/nologin</span><br><span class="line">yyn:x:1000:1000:yyn:/home/yyn:/bin/bash</span><br><span class="line">用户名:密码:UID:GID:描述信息:家目录:默认Shell</span><br></pre></td></tr></tbody></table></figure>

<h3 id="修改用户-usermod"><a href="#修改用户-usermod" class="headerlink" title="修改用户 usermod"></a>修改用户 usermod</h3><p>修改用户账号的各类信息。</p>
<p>语法：usermod [options] user_name</p>
<ul>
<li>-u，修改用户UID；</li>
<li>-g，修改用户所属用户组；</li>
<li>-l，修改用户账号名称；</li>
<li>-L，锁定指定用户，让其无法登录；</li>
<li>-d，修改用户home目录；</li>
<li>-s，修改用户默认shell程序；</li>
</ul>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# usermod -u 1003 yyn</span><br><span class="line">[root@localhost ~]# id yyn</span><br><span class="line">用户id=1003(yyn) 组id=1000(yyn) 组=1000(yyn),10(wheel)</span><br></pre></td></tr></tbody></table></figure>

<h3 id="删除用户-userdel"><a href="#删除用户-userdel" class="headerlink" title="删除用户 userdel"></a>删除用户 userdel</h3><p>删除指定的用户以及该用户相关的文件；</p>
<p>默认只删除用户，不删除用户相关文件。</p>
<p>语法：userdel [options] user_name</p>
<ul>
<li>-f，强制删除用户账号，即使用户当前处于登录状态；</li>
<li>-r，删除用户，同时删除与用户相关的所有文件；</li>
<li>-h，显示命令帮助信息；</li>
</ul>
<h3 id="修改密码-passwd"><a href="#修改密码-passwd" class="headerlink" title="修改密码 passwd"></a>修改密码 passwd</h3><p>passwd修改用户密码。</p>
<p>语法：passwd [OPTION…] user_name</p>
<ul>
<li>-n，设置修改密码最短天数；</li>
<li>-x，修改密码最长天数；</li>
<li>-w，设置用户在密码过期前多少天收到警告消息；<ul>
<li>-1，立即让用户密码过期；</li>
</ul>
</li>
<li>-i，设置密码过期多少天后禁用账户；<ul>
<li>-l，立即锁定一个用户；</li>
<li>-u，立即解除用户锁定；</li>
</ul>
</li>
<li>-d，删除用户密码，若用户处于锁定状态，会进行解锁；</li>
<li>-s，显示用户密码信息。</li>
</ul>
<p>root用户可以修改任何用户的密码，普通用户只能修改自己的密码。</p>
<p>与密码有关的配置文件都保存在/etc/login.dfs文件中，其中包含PASS_MAX_DAYS、PASS_MIN_DAYS、PASS_WARN_AGE。分别表示：密码最长使用天数、密码两次修改最短间隔天数，密码过期前几天提醒用户。</p>
<ul>
<li>若最短间隔天数为0，则表示任何时候都可以修改密码；</li>
</ul>
<blockquote>
<p>示例</p>
</blockquote>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat /etc/shadow | grep yyn</span><br><span class="line">yyn:!::0:99999:7:::</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">用户名:密码</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">!表示用户没有设置密码。</span></span><br></pre></td></tr></tbody></table></figure>

<p>查看用户密码信息</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# passwd -S yyn</span><br><span class="line">yyn PS 1969-12-31 0 99999 7 -1 (Password set, SM3 crypt.)</span><br></pre></td></tr></tbody></table></figure>

<p>创建用户</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# useradd u1</span><br><span class="line">[root@localhost ~]# useradd u2 -d /home/aaa</span><br><span class="line">[root@localhost ~]# useradd u3 -u 2234</span><br><span class="line">[root@localhost ~]# tail -3 /etc/passwd</span><br><span class="line">u1:x:1004:1004::/home/u1:/bin/bash</span><br><span class="line">u2:x:1005:1005::/home/aaa:/bin/bash</span><br><span class="line">u3:x:2234:2234::/home/u3:/bin/bash</span><br></pre></td></tr></tbody></table></figure>

<p>修改用户用户名</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# usermod -l u4  u3</span><br><span class="line">[root@localhost ~]# tail -1 /etc/passwd</span><br><span class="line">u4:x:2234:2234::/home/u3:/bin/bash</span><br></pre></td></tr></tbody></table></figure>

<p>修改用户家目录</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mkdir /home/aaaww</span><br><span class="line">[root@localhost ~]# usermod -d /home/aaaww u4  # 这里应为home，写错了，但是好像成功了</span><br><span class="line">[root@localhost ~]# tail -1 /etc/passwd</span><br><span class="line">u4:x:2234:2234::/home/aaaww:/bin/bash</span><br></pre></td></tr></tbody></table></figure>



<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><ul>
<li>使用who查看登录用户的信息；</li>
<li>id，查看用户信息；</li>
</ul>
<h1 id="用户组"><a href="#用户组" class="headerlink" title="用户组"></a>用户组</h1><ul>
<li>具有相同特性用户的逻辑集合，通过组的形式使得具有相同特性的多个用户拥有相同的权限，便于管理；</li>
<li>每个用户都拥有自己的私有组；</li>
<li>同一组内所有游湖可以共享该组下的文件；</li>
<li>每个用户组都会被分配一个gid；</li>
</ul>
<h2 id="用户组GID"><a href="#用户组GID" class="headerlink" title="用户组GID"></a>用户组GID</h2><p>与UID类似，GID作为唯一标识符来标示一个用户组；</p>
<ul>
<li>添加用户时，默认情况下回同时建立一个与用户同名且UID和GID相同的组；</li>
<li>GID与UID为0，都表示超级用户组或超级用户；</li>
<li>系统预留一些较前的GID给虚拟用户（也称为系统用户）。</li>
</ul>
<p>可以通过<code>id [option] [user_name]</code>，查看用户组gid及每个用户组拥有的用户数量；</p>
<h2 id="用户组分类"><a href="#用户组分类" class="headerlink" title="用户组分类"></a>用户组分类</h2><ul>
<li>普通用户组：可以加入多个用户；</li>
<li>系统组：一般加入的用户为系统用户；</li>
<li>私有组：也称基本组，在创建用户时，若没有指明所属用户组，则会为该用户定义一个私有的用户组，且用户组名与用户名同名。<ul>
<li>私有组在有其他用户加入时，就会变成一个普通用户组。</li>
</ul>
</li>
</ul>
<h2 id="管理命令"><a href="#管理命令" class="headerlink" title="管理命令"></a>管理命令</h2><h3 id="创建组-groupadd"><a href="#创建组-groupadd" class="headerlink" title="创建组 groupadd"></a>创建组 groupadd</h3><p>创建一个新的用户组，并将新用户组信息添加到系统文件中；</p>
<p>语法：groupadd [options] group_name</p>
<ul>
<li>-f，强制创建，<ul>
<li>若组已存在，则不输出错误信息；</li>
</ul>
</li>
<li>-g，为新用户组指定GID；</li>
<li>-o，允许创建拥有重复GID的组；</li>
<li>-p，为新用户组使用加密过的密码；</li>
<li>-r，创建一个系统账户；</li>
<li>-h，展示帮助信息；</li>
</ul>
<blockquote>
<p> 示例</p>
</blockquote>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# groupadd yynGroup</span><br><span class="line">[root@localhost ~]# tail -1 /etc/group</span><br><span class="line">yynGroup:x:2235:</span><br></pre></td></tr></tbody></table></figure>

<h3 id="修改用户组-groupmod"><a href="#修改用户组-groupmod" class="headerlink" title="修改用户组 groupmod"></a>修改用户组 groupmod</h3><p>修改组gid或名称；</p>
<p>语法：groupmod [options] group_name</p>
<ul>
<li>-g，指定要使用的GID；</li>
<li>-o，允许重复GID；</li>
<li>-n，修改组名称；</li>
<li>-p，修改密码；</li>
<li>-h，展示帮助信息。</li>
</ul>
<blockquote>
<p>示例</p>
</blockquote>
<p>修改用户组GID</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# id yyn</span><br><span class="line">用户id=1003(yyn) 组id=1000(yyn) 组=1000(yyn),10(wheel)</span><br><span class="line">[root@localhost ~]# groupmod -g 1006 yyn</span><br><span class="line">[root@localhost ~]# id yyn</span><br><span class="line">用户id=1003(yyn) 组id=1006(yyn) 组=1006(yyn),10(wheel)</span><br></pre></td></tr></tbody></table></figure>

<h3 id="删除用户组-groupdel"><a href="#删除用户组-groupdel" class="headerlink" title="删除用户组 groupdel"></a>删除用户组 groupdel</h3><p>删除用户组；</p>
<p>若用户组存在一些用户，需要<strong>先删除用户</strong>，才能<strong>删除用户组</strong>；</p>
<p>语法：groupdel [options] group_name</p>
<ul>
<li>-f，强制删除，可以解决一些无法删除的组；<ul>
<li>如：一些私有组。</li>
</ul>
</li>
<li>-h，展示帮助信息；</li>
</ul>
<h3 id="关联用户和组-gpasswd"><a href="#关联用户和组-gpasswd" class="headerlink" title="关联用户和组 gpasswd"></a>关联用户和组 gpasswd</h3><p>gpasswd添加或删除用户到组中。</p>
<p>语法：gpasswd [option] group_name</p>
<ul>
<li>-a，向组group中添加用户user；</li>
<li>-d，从组group中删除用户；</li>
<li>-M，向组添加多个成员；</li>
<li>-A user1,…，设置组的管理员（可以有多个）；</li>
<li>-r，删除组密码；</li>
<li>-R，限制用户登入组，只有组成员擦可以用newgrp加入该组；</li>
<li>-Q，要chroot进的目录</li>
</ul>
<blockquote>
<p>示例</p>
</blockquote>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# gpasswd -a yyn yynGroup</span><br><span class="line">正在将用户“yyn”加入到“yynGroup”组中</span><br><span class="line">[root@localhost ~]# groups yyn</span><br><span class="line">yyn : yyn wheel yynGroup</span><br></pre></td></tr></tbody></table></figure>

<h2 id="用户与组的关联文件"><a href="#用户与组的关联文件" class="headerlink" title="用户与组的关联文件"></a>用户与组的关联文件</h2><ul>
<li><p>/etc/passwd：用户账号信息文件；</p>
<ul>
<li><pre><code class="shell">[root@localhost ~]# tail -1 /etc/passwd
u2:x:1005:1005::/home/aaa:/bin/bash
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  - 用户名:密码:UID:GID:备注信息:HOME目录:默认SHELL</span><br><span class="line"></span><br><span class="line">- /etc/shadow：用户账号信息加密文件；</span><br><span class="line"></span><br><span class="line">  - 存储密码信息；</span><br><span class="line"></span><br><span class="line">  - 只有root用户具有读权限；</span><br><span class="line"></span><br><span class="line">  - ```shell</span><br><span class="line">    [root@localhost ~]# tail -1 /etc/shadow</span><br><span class="line">    u2:!:19289:0:99999:7:::</span><br></pre></td></tr></tbody></table></figure>
</code></pre>
</li>
<li><p>用户名:加密密码:最后一次修改时间:最小修改时间间隔:密码有效期:密码需要变更前警告天数:密码宽限时间:账号失效时间:保留字段</p>
</li>
<li><p>密码字段为!或*，表示用户当前无法登录；</p>
</li>
</ul>
</li>
</ul>
<h2 id="用户组关联文件"><a href="#用户组关联文件" class="headerlink" title="用户组关联文件"></a>用户组关联文件</h2><ul>
<li><p>/etc/group：组信息文件；</p>
<ul>
<li><p>每一行记录代表一个用户组；</p>
</li>
<li><p>一个组中可以有多个用户，一个用户可以属于不同的组；</p>
</li>
<li><pre><code class="shell">[root@localhost ~]# tail -1 /etc/group
yynGroup:x:2235:yyn
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  - 组名:组密码:GID:组内用户列表</span><br><span class="line"></span><br><span class="line">- /etc/gshadow：组信息加密文件；</span><br><span class="line"></span><br><span class="line">  - 保存组加密信息，如用户组管理密码；</span><br><span class="line"></span><br><span class="line">  - ```shell</span><br><span class="line">    [root@localhost ~]# tail -1 /etc/gshadow</span><br><span class="line">    yynGroup:!::yyn</span><br></pre></td></tr></tbody></table></figure>
</code></pre>
</li>
<li><p>组名:组密码:用户组管理员:用户组附加用户</p>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>示例</p>
</blockquote>
<p>向用户组添加用户。</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# gpasswd -M u1,u2,yyn yynGroup</span><br><span class="line">[root@localhost ~]# tail -1 /etc/group</span><br><span class="line">yynGroup:x:2235:u1,u2,yyn</span><br></pre></td></tr></tbody></table></figure>

<p>指定GID，修改GID</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# groupadd -g 1234 yynGroup2</span><br><span class="line">[root@localhost ~]# tail -1 /etc/group</span><br><span class="line">yynGroup2:x:1234:</span><br><span class="line">[root@localhost ~]# groupmod -g 2345 yynGroup2</span><br><span class="line">[root@localhost ~]# tail -1 /etc/group</span><br><span class="line">yynGroup2:x:2345:</span><br></pre></td></tr></tbody></table></figure>

<h1 id="文件权限"><a href="#文件权限" class="headerlink" title="文件权限"></a>文件权限</h1><h2 id="权限"><a href="#权限" class="headerlink" title="权限"></a>权限</h2><p>权限时操作系统用来限制对资源访问的一种机制，权限分为：<strong>读、写、执行</strong>；</p>
<p>在Linux系统中，每个文件或目录都具有特定的访问权限，所属用户及所属组；</p>
<p>一个文件或目录有三种权限：<strong>文件属主的访问、用户组成员访问和系统中任何用户访问</strong>；</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ls -l</span><br><span class="line">总用量 44</span><br><span class="line">drwxr-xr-x. 2 root root  4096 10月 24 06:53 d</span><br><span class="line">drwxr-xr-x. 2 root root  4096 10月 24 06:56 d2</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">文件类型权限 连结数 所有者 所属组 文件容量 最后修改日期 文件名</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">其中</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">drwxr-xr-x</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">第一位是文件类型，剩余9位是文件权限位；</span></span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>连结数</p>
</blockquote>
<ul>
<li>若是一个文件，则表示当前文件的连结数量；</li>
<li>若是一个目录，则表示目录下的子目录数量，其中另包含“.”和”..”两个；</li>
</ul>
<blockquote>
<p>文件容量</p>
</blockquote>
<ul>
<li>对于一个文件，则表示文件字节大小；</li>
<li>对于一个目录，则表示目录符的大小，不包含其中的文件；</li>
</ul>
<blockquote>
<p>文件名</p>
</blockquote>
<ul>
<li>不同类型文件有不同颜色；<ul>
<li>白色，普通文件；</li>
<li>蓝色，目录文件；</li>
<li>绿色，可执行文件；</li>
<li>青色，软链接文件；</li>
<li>红色，压缩文件；</li>
<li>…</li>
</ul>
</li>
</ul>
<blockquote>
<p> 文件类型</p>
</blockquote>
<ul>
<li>-：普通文件，除去其他6种类型文件；</li>
<li>d：目录</li>
<li>b：块设备文件，可随机存取装置；</li>
<li>c：字符设备文件 -&gt; 键盘、鼠标等一次性读取装置；</li>
<li>l：符号链接文件；</li>
<li>p：命名管道文件（piep）</li>
<li>s：套接字文件（socket）</li>
</ul>
<p>b和c一般出现在/dev目录下；</p>
<blockquote>
<p>权限位说明</p>
</blockquote>
<p><em>drwxr-xr-x</em></p>
<table>
<thead>
<tr>
<th></th>
<th>文件类型</th>
<th>属主权限</th>
<th>属组权限</th>
<th>其他用户权限</th>
</tr>
</thead>
<tbody><tr>
<td>位置</td>
<td>0</td>
<td>1 2 3</td>
<td>4 5 6</td>
<td>7 8 9</td>
</tr>
<tr>
<td>表示</td>
<td>d</td>
<td>r w x</td>
<td>r - x</td>
<td>r - x</td>
</tr>
<tr>
<td>描述</td>
<td>目录文件</td>
<td>读 写 执行</td>
<td>读 写 执行</td>
<td>读 写 执行</td>
</tr>
</tbody></table>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">YN</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://zswh33.github.io/2022/11/25/openEuler-2/">http://zswh33.github.io/2022/11/25/openEuler-2/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://zswh33.github.io">uwupu Blog</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Linux/">Linux</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2022/11/26/OpenEuler-3/"><i class="fa fa-chevron-left">  </i><span>OpenEuler 3 文件权限设置 文件属主设置 umask DNF软件包管理</span></a></div><div class="next-post pull-right"><a href="/2022/11/15/Java-%E5%B9%B6%E5%8F%91-Tools-Note/"><span>Java 并发 Tools Note</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">©2019 - 2023 By YN</div><div class="framework-info"><span>驱动 - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">哇！感谢你来到这个Blog，虽然没有什么内容...嗯..</div><div class="busuanzi"><script async="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/lib/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/bundle.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>